import{S as a,r as u,j as t}from"./index-C_P7ACqV.js";import{u as ne,v as te}from"./components-IDph60TE.js";import{c as S,v as G,g as se,e as O,s as oe,T,f as ie,h as ce,j as re,u as le,P as de,b as B,C as X,a as R,B as ue}from"./Page-Bab2WnVG.js";import{L as Y}from"./Layout-Bft9gBds.js";import{F as he}from"./FormLayout-B8CkwGst.js";import"./context-Dmzg4qij.js";var W=function(c){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},c),a.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};W.displayName="MinusIcon";const me=u.createContext(!1);var l={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},d={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function pe({id:n,label:c,disabled:s,error:i,children:m,labelHidden:e,helpText:o,onClick:p,labelClassName:M,fill:g,bleed:h,bleedBlockStart:r,bleedBlockEnd:k,bleedInlineStart:v,bleedInlineEnd:b,tone:C}){const x=S(d.Choice,e&&d.labelHidden,s&&d.disabled,C&&d[G("tone",C)],M),D={...O("choice","bleed-block-end","space",k||h),...O("choice","bleed-block-start","space",r||h),...O("choice","bleed-inline-start","space",v||h),...O("choice","bleed-inline-end","space",b||h),...Object.fromEntries(Object.entries(se("choice","fill",g)).map(([j,H])=>[j,H?"100%":"auto"]))},y=a.createElement("label",{className:x,htmlFor:n,onClick:p,style:oe(D)},a.createElement("span",{className:d.Control},m),a.createElement("span",{className:d.Label},a.createElement(T,{as:"span",variant:"bodyMd"},c))),N=o?a.createElement("div",{className:d.HelpText,id:z(n)},a.createElement(T,{as:"span",tone:s?void 0:"subdued"},o)):null,_=i&&typeof i!="boolean"&&a.createElement("div",{className:d.Error},a.createElement(ie,{message:i,fieldID:n})),L=N||_?a.createElement("div",{className:d.Descriptions},_,N):null;return L?a.createElement("div",null,y,L):y}function z(n){return`${n}HelpText`}const F=u.forwardRef(function({ariaControls:c,ariaDescribedBy:s,label:i,labelHidden:m,checked:e=!1,helpText:o,disabled:p,id:M,name:g,value:h,error:r,onChange:k,onFocus:v,onBlur:b,labelClassName:C,fill:x,bleed:D,bleedBlockStart:y,bleedBlockEnd:N,bleedInlineStart:_,bleedInlineEnd:L,tone:j},H){const f=u.useRef(null),V=u.useId(),I=M??V,$=u.useContext(me);u.useImperativeHandle(H,()=>({focus:()=>{f.current&&f.current.focus()}}));const q=()=>{b&&b()},K=()=>{k==null||f.current==null||p||(k(f.current.checked,I),f.current.focus())},E=[];r&&typeof r!="boolean"&&E.push(re(I)),o&&E.push(z(I)),s&&E.push(s);const U=E.length?E.join(" "):void 0,Z=S(l.Checkbox,r&&l.error),P=e==="indeterminate",A=!P&&!!e,J=P?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":A},Q=a.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},a.createElement("path",{className:S(e&&l.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),ee=S(l.Input,P&&l["Input-indeterminate"],j&&l[G("tone",j)]),ae={helpText:o,error:r,bleed:D,bleedBlockStart:y,bleedBlockEnd:N,bleedInlineStart:_,bleedInlineEnd:L};return a.createElement(pe,Object.assign({id:I,label:i,labelHidden:m,disabled:p,labelClassName:S(l.ChoiceLabel,C),fill:x,tone:j},ae),a.createElement("span",{className:Z},a.createElement("input",Object.assign({ref:f,id:I,name:g,value:h,type:"checkbox",checked:A,disabled:p,className:ee,onBlur:q,onChange:ge,onClick:K,onFocus:v,"aria-invalid":r!=null,"aria-controls":c,"aria-describedby":U,role:$?"presentation":"checkbox"},J)),a.createElement("span",{className:l.Backdrop,onClick:w,onKeyUp:w}),a.createElement("span",{className:S(l.Icon,!P&&l.animated)},P?a.createElement(ce,{source:W}):Q)))});function ge(){}function w(n){n.stopPropagation()}function ke({acceptCharset:n,action:c,autoComplete:s,children:i,encType:m,implicitSubmit:e=!0,method:o="post",name:p,noValidate:M,preventDefault:g=!0,target:h,onSubmit:r}){const k=le(),v=u.useCallback(x=>{g&&(x.preventDefault(),r(x))},[r,g]),b=be(s),C=e?a.createElement(T,{as:"span",visuallyHidden:!0},a.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},k.translate("Polaris.Common.submit"))):null;return a.createElement("form",{acceptCharset:n,action:c,autoComplete:b,encType:m,method:o,name:p,noValidate:M,target:h,onSubmit:v},C,i)}function be(n){return n==null?n:n?"on":"off"}function ve(){const{settings:n}=ne(),c=te(),[s,i]=u.useState({enhancedOrderTracking:n.enhancedOrderTracking,ga4SessionTracking:n.ga4SessionTracking,emailSmsTracking:n.emailSmsTracking,ga4MeasurementId:n.ga4MeasurementId||"",checkoutThankYouMessage:n.checkoutThankYouMessage||""}),m=u.useCallback(()=>{const e=new FormData;e.append("enhancedOrderTracking",s.enhancedOrderTracking.toString()),e.append("ga4SessionTracking",s.ga4SessionTracking.toString()),e.append("emailSmsTracking",s.emailSmsTracking.toString()),e.append("ga4MeasurementId",s.ga4MeasurementId),e.append("checkoutThankYouMessage",s.checkoutThankYouMessage),c(e,{method:"post"})},[c,s]);return t.jsx(de,{title:"App Settings",children:t.jsx(Y,{children:t.jsx(Y.Section,{children:t.jsx(ke,{onSubmit:m,children:t.jsxs(B,{gap:"500",children:[t.jsx(X,{children:t.jsxs(B,{gap:"400",children:[t.jsx(T,{as:"h2",variant:"headingMd",children:"Feature Toggles"}),t.jsxs(he,{children:[t.jsx(F,{label:"Enhanced Order Tracking",checked:s.enhancedOrderTracking,onChange:e=>i(o=>({...o,enhancedOrderTracking:e}))}),t.jsx(F,{label:"GA4 Session Tracking",checked:s.ga4SessionTracking,onChange:e=>i(o=>({...o,ga4SessionTracking:e}))}),t.jsx(F,{label:"Email/SMS Tracking",checked:s.emailSmsTracking,onChange:e=>i(o=>({...o,emailSmsTracking:e}))})]})]})}),t.jsx(X,{children:t.jsxs(B,{gap:"400",children:[t.jsx(T,{as:"h2",variant:"headingMd",children:"GA4 Configuration"}),t.jsx(R,{label:"GA4 Measurement ID",value:s.ga4MeasurementId,onChange:e=>i(o=>({...o,ga4MeasurementId:e})),placeholder:"G-XXXXXXXXXX",autoComplete:"off"})]})}),t.jsx(X,{children:t.jsxs(B,{gap:"400",children:[t.jsx(T,{as:"h2",variant:"headingMd",children:"Checkout Settings"}),t.jsx(R,{label:"Checkout Thank You Message",value:s.checkoutThankYouMessage,onChange:e=>i(o=>({...o,checkoutThankYouMessage:e})),multiline:3,autoComplete:"off"})]})}),t.jsx(ue,{submit:!0,variant:"primary",children:"Save Settings"})]})})})})})}export{ve as default};
